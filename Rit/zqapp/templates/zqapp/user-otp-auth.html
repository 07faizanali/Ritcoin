{% extends "zqapp/layouts/main.html" %}
{% load static %}

    
      <!--Header Start -->
    
      <!--Header End-->
{% block 'main'  %}
      <!--Header End-->

      <!-- Content Section Start -->
      <div class="midd-container">
        <!-- Hero Section Start -->
        <div
          class="hero-main diamond-layout white-sec"
          style="background: url({% static 'images/banner-4.jpg' %})"
        >
          <div class="container">
            <div class="row align-items-center">
              <div class="col-sm-12 col-md-6">
                <div class="tab-section">
                    <!-- Nav tabs -->
                    <div class="hero-btns">
                    {% comment %} <ul class="nav nav-tabs text-uppercase" role="tablist">
                      <li class="nav-item">
                        <span
                          class="nav-link  text-white " id="mission-tab" data-toggle="tab" href="#mission" role="tab" aria-controls="mission" aria-selected="true" >Sign in</span>
                      </li>
                     
                      <li class="nav-item">
                         <span class="nav-link text-white " id="guarantees-tab" data-toggle="tab" href="#guarantees" role="tab" aria-controls="guarantees" aria-selected="false" >Sign up</span>
                      </li>
                    </ul> {% endcomment %}
                  </div>
                    
                    <!-- Tab panes -->
                    <div class="tab-content text-center">
                      <div
                        class="tab-pane active"
                        id="mission"
                        role="tabpanel"
                        aria-labelledby="mission-tab"
                      >
                      <div class="loginBox">
                      
                        <h5>Enter otp</h5>

                        <form method="POST" action=" ">
                            {% csrf_token  %}
                          {% comment %} <p>OTP</p> {% endcomment %}
                          <input type="number" name="otp" placeholder="" required>
                          <input type="hidden" name="email"  value='{{email}}' placeholder="" required>
                          {% comment %} {{ form.OTP.errors  }} {% endcomment %}
                          <small class="form-text text-danger">{{ form.otp.errors }}</small>
                          {% if message %}

                            <p class="text-danger"> {{message}} </p>

                          {% endif %}
                          {% comment %} <p>Password</p> {% endcomment %}
                          {% comment %} <input type="password" name="password" placeholder="Enter Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required> {% endcomment %}
                          <input type="submit" name="otpSubmit" value="Submit">
                          <button class='text-danger' type='button' onclick='RegOTPReset(event)' style='border: none; background-color: transparent; color: inherit; text-decoration: underline; cursor: pointer;'>Resend OTP</button>

                          {% comment %} <a  href="{% url "passwordReset" %}">Forgot Password</a> {% endcomment %}
                        </form>
                      </div>
                      </div>
                   
                      <div
                        class="tab-pane"
                        id="guarantees"
                        role="tabpanel"
                        aria-labelledby="guarantees-tab"
                      >
                      {% comment %} <div class="loginBox">
                      
                     
                        <form method="POST" action="">
                         {% csrf_token %} 
                          
                          <p>User Name</p>
                          <input type="name" name="username" placeholder="Enter username" required>
                          {% for error in form.username.errors %}
                          <small class="form-text text-danger">{{ error }}</small>
                          {% endfor %}
                          <p>Email</p>
                          <input type="email" name="email" placeholder="Enter Email" required>

                          {% for error in form.email.errors %}
                          <small class="form-text text-danger">{{ error }}</small>
                          {% endfor %}
                          <p>Password</p>
                          <input type="password" name="password1" placeholder="Enter Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>

                          {% for error in form.password1.errors %}
                          <small class="form-text text-danger">{{ error }}</small>
                          {% endfor %}
                          <p> Confirm Password</p>
                          <input type="password" name="password2" placeholder="Enter Confirm password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
                          <input type="submit" name="submit" value="Register">

                          {% for error in form.password2.errors %}
                          <small class="form-text text-danger">{{ error }}</small>
                          {% endfor %}

                         
                        </form>
                      </div> {% endcomment %}
                      </div>
                    </div>
                  </div>
              






              </div>
              <div class="col-sm-12 col-md-6" data-wow-delay="0.5s">
                <div class="diamond-animation mobile-hidden">
                  <div class="diamond-grid"></div>
                  <div class="diamond-grid-2"></div>
                  <div class="outer-Orbit">
                    <div class="Orbit">
                      <div class="rotate">
                        <div class="OrbitSquare">
                          <div class="inner">A</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="main">
                    <div class="top-coin"><span></span></div>
                    <div class="lines">
                      <span class="l-1"></span>
                      <span class="l-2"></span>
                      <span class="l-3"></span>
                      <span class="l-4"></span>
                      <span class="l-5"></span>
                      <span class="l-6"></span>
                      <span class="l-7"></span>
                      <span class="l-8"></span>
                      <span class="l-9"></span>
                      <span class="l-10"></span>
                      <span class="l-11"></span>
                      <span class="l-12"></span>
                      <span class="l-13"></span>
                      <span class="l-14"></span>
                      <span class="l-15"></span>
                    </div>
                    <div class="inside-bitcoin"></div>
                    <div class="gris2"></div>
                    <div class="square-1"></div>
                  </div>
                  <div class="base"></div>
                </div>
                <div class="mobile-visible text-center">
                  <img src="{%    static 'images/diamond-animation-mobile.png' %}" alt="" />
                </div>
                
              </div>
            </div>
          </div>
        </div>
    
      <!-- Content Section End -->
  
      <script>
        function RegOTPReset(event) {
       
          $.ajax({
              url: "/resend-otp-registration/",
              type: "post",
              data: {
                  otp: $("#otp").val(),
                  mail: $("#email").val(),
                  //types: $("#cointypes").val(),
                  csrfmiddlewaretoken: '{{ csrf_token }}'
              },
              success: function (resultdata) {
      
                  var status = resultdata.status;
                  if (parseInt(status) == 1) {
      
                      alert(resultdata.message);
                      location.reload();
      
                  
      
                  }
                  else {
      
                      alert(resultdata.message);
                     // $("#otp").val('');
                  }
      
            
              },
              error: function (er) {
                  alert("Something went wrong. Please try again later");
                  $("#btnsubmit").text('Verify');
                  $("#btnsubmit").removeAttr("disabled");
                
              }
          }
          );
      }
      </script>     

{% endblock 'main'  %}
