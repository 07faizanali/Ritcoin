{% extends 'zqUsers/member/layout/main.html' %}

{% load static %}
{% load customFilters %}
{% block 'addHeaderScripts' %}

{% comment %} <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> {% endcomment %}

<style>
      @media (min-width: 576px) {
        .tabs {
            height: 138vh !important;
          
          }
         
     }
     @media only screen and (max-width: 35.9375rem) {
        #main{
            height:60vh !important;
            padding:25px !important;
            overflow: overlay !important;
          }
     } 
.tabs {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  padding: 1rem;
  height: 125dvh;
  background-color: #efefef;
  z-index:1;
}
.tabs .tabs-nav {
  display: flex;
  width: max-content;
  margin: 0 auto;
  padding: 5px;
  gap: 5px;
  border-radius: 9999px;
  box-shadow: 2px 2px 10px #3333;
}
.tabs .tab-nav {
  display: block;
  outline: none;
  border: 2px solid rgb(0,34,51);
  color: rgb(0,34,51);
  border-radius: 9999px;
  padding: 0.5em 2em;
  font-weight: 700;
  cursor: pointer;
  background-color: inherit;
  transition: background-color 300ms, color 300ms;
}
.tabs .tab-nav:hover {
  background-color: rgb(0,34,51);
  color: #fff;
}
.tabs .tab-content input[name="tab-index"] {
  display: none !important;
}
.tabs .tab-contents {
    display: block;
    position: relative;
    height: 100%;
    margin-top: 1rem;
    background-color: inherit;
    overflow: hidden;
    z-index: 1;
}
 .tabs .tab-content {
  background-color: inherit;
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  max-height: 100%;
  top: 0; left: 100%;
  overflow: hidden;
  box-sizing: border-box;
  border-radius: 10px;
  padding: 0;
} 
.tabs.animate .tab-content {
  transition: left 500ms;
}
.tabs .tab-content .content {
  max-height: 100%;
  max-width: 100%;
 
}

.tabs .tab-content:has(input[name="tab-index"]:checked) {
  left: 0;
  z-index: 100;
}

        .dropdown-icon::after {
            content: "\f078"; /* Font Awesome caret down icon */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
        }

</style>

 <style>
        .card.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: none;
            filter: grayscale(100%);
        }
    </style>
{% endblock %}


{% block 'content' %}




<div class="tabs"> <!-- use class 'animate' to set change tab transition animation -->
  <div class="tabs-nav">
<!--   Must be label element   -->
<label class="tab-nav" for="tab-index2">INR</label>
<label class="tab-nav" for="tab-index1">USDT</label>
    
  </div>
  
      {% comment %} ================================ {% endcomment %}

  <div class="tab-contents">

    
    <div class="tab-content">
  <!--   this input element must be created with same id in label element inside attr 'for'   -->
      <input type="radio" name="tab-index" id="tab-index1" checked/>
      <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-12 col-lg-12">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card p-5">
                                 
        
                                 <div class="row">
                                 <div class="col-lg-4"><h3>Withdrawal</h3></div>
                                 <div class="col-lg-4"></div>
                                 <div class="col-lg-4 btn-group"  role="group"  id="cnbtn">
                                        
                                    <button type="button" id="connect-button" class="btn btn-primary">Connect Wallet
                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 212 189" id="metamask">
                                        <g fill="none" fill-rule="evenodd">
                                            <polygon fill="#CDBDB2" points="60.75 173.25 88.313 180.563 88.313 171 90.563 168.75 106.313 168.75 106.313 180 106.313 187.875 89.438 187.875 68.625 178.875"></polygon>
                                            <polygon fill="#CDBDB2" points="105.75 173.25 132.75 180.563 132.75 171 135 168.75 150.75 168.75 150.75 180 150.75 187.875 133.875 187.875 113.063 178.875" transform="matrix(-1 0 0 1 256.5 0)"></polygon>
                                            <polygon fill="#393939" points="90.563 152.438 88.313 171 91.125 168.75 120.375 168.75 123.75 171 121.5 152.438 117 149.625 94.5 150.188"></polygon>
                                            <polygon fill="#F89C35" points="75.375 27 88.875 58.5 95.063 150.188 117 150.188 123.75 58.5 136.125 27"></polygon>
                                            <polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon>
                                            <polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon>
                                            <polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon>
                                            <polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon>
                                            <polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90.563 152.438"></polygon>
                                            <polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon>
                                            <polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon>
                                            <polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75">
        
                                            </polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938">
        
                                            </polygon><polygon fill="#DFCEC3" points="60.75 173.25 90.563 152.438 88.313 170.438 88.313 180.563 68.063 176.625"></polygon>
                                            <polygon fill="#DFCEC3" points="121.5 173.25 150.75 152.438 148.5 170.438 148.5 180.563 128.25 176.625" transform="matrix(-1 0 0 1 272.25 0)"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path><g transform="matrix(-1 0 0 1 211.5 0)"><polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon><polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon><polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon><polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon><polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90 153"></polygon><polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon><polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon><polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"></polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path></g></g>
                                        
                                        
                                    </svg>
                                    </button> 
        
                                </div>
        
                                
                                        </div>
                                <div class="row ">
                                    <div class="col-md-4 text-center mt-2">
                                        <h6 class="mt-4" style="font-weight: 600;">Enter Wallet Address</h6>
                                     </div>
                                     
                                    <div class="col-md-5">
                                <div class="input-group mt-4">
                                    <div class="input-group-prepend"></div>
                                    <input placeholder="Paste Your Txn hase code" id="walletAdd" type="text" class="form-control" ></div>
                                    </div>
                                    
                                    
                                    <div class="col-md-4"></div>
                                    </div>
                                    <div class="row mt-3">
                                       
                                        <div class="col-md-4 text-center mt-2">
                                           <h6 class="mt-4" style="font-weight: 600;">Withdrawal Amount</h6>
                                        </div>
                                        
                                        <div class="col-md-5">
                                          
                                            <div class="input-group mt-4">
                                                <div class="input-group-prepend"></div>
                                                <input placeholder="Enter amount" id="amount" type="number" class="form-control" ></div>
                                        </div>
                                        </div>
                                        <button class="mb-2 mt-5 mr-2 btn btn-outline-primary btn-lg btn-block" id="withdrawButton" style="font-weight: 600;">Withdrawal</button>
                                </div>
                        </div>
                        
                    </div>
                </div>
                
            </div>
            {% comment %} <div class="row">
                <div class="col-xl-12">
                    <div class="filter cm-content-box box-primary">
                        
                        <div class="cm-content-body form excerpt">
                            <div class="card-body" style="overflow-x: auto;">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="main- mb-3 ">
                                        <div class="">
                                        <table class="mb-0 table">
                                        <thead>
                                        <tr>
                                            <th>Sr No.</th>
                                            <th>Amount($)</th>
                                            <th>Withdrawal Address</th>
                                            <th>Txn Fees(2$)</th>
                                            <th>Tranferred amnt($)</th>
                                            <th>Txn date</th>
                                            <th>Status  </th>
                                        </tr>
                                        </thead>
                                        <tbody>
        
                                        {% if allWds %}
        
                                        {% for index,inv in  allWds %}
                                        <tr>
                                        <th scope="row">{{index|add:1}}</th>
                                        <td>{{inv.amicoin}}</td>
                                        <td>{{inv.withrawal_add}}</td>
                                        <td>{{inv.admin_charge}}</td>
                                        <td>{{inv.total_value}}</td>
                                        <td>{{inv.trxndate}}</td>
        
                                        
                                        <td> 
                                            {% if inv.status %}
                                            success
                                            {% else %}
                                            pending
        
                                            {% endif %}
        
                                        </td>
                                        
                                        
                                        </tr>
        
                                        {% endfor %}
        
                                        {% endif %}
                                       
                                                </tbody>
                                        </table>
                                        </div>
                                        </div>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    
                </div>
            </div> {% endcomment %}
        
            <div class="col-lg-12">
                <div class="card transaction-table">
                    <div class="card-header border-0 flex-wrap pb-0">
                        <div class="mb-2">
                            <h4 class="card-title">Recent Withdrawals</h4>
                            <p class="mb-sm-3 mb-0">All Withdrawals</p>
                   
                    </div>
        
                   
                    <div class="card-body p-0"style="overflow-x:auto !important;" >
                     <div>
                        <div class="table-responsive" >
                                    <table class="table table-responsive-md">
                                        <thead>
                                            <tr>
                                                <th>
                                                    #
                                                </th>
                                                <th>Withdrawal Address</th>
                                                
                                                <th>Requested Amount($)</th>
                                                <th>Admin charge($)</th>
                                                <th>Total Transferred($)</th>
                                                <th>Coin</th>
                                                <th>Coin Rate(USDT)</th>
                                                <th>Trasferred value</th>
                                                <th>Transaction Hash</th>
                                                <th>Date</th>
                                                {% comment %} <th>To</th> {% endcomment %}
                                                <th class="text-end">Status</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          
                                            {% if allWds %}
        
                                            {% for index,inv in  allWds %}
        
        
                                            <tr>
                                                <td>
                                                    <svg class="arrow style-2 svg-main-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                            <polygon points="0 0 24 0 24 24 0 24"/>
                                                            <rect fill="#fff" opacity="0.3" transform="translate(11.646447, 12.853553) rotate(-315.000000) translate(-11.646447, -12.853553) " x="10.6464466" y="5.85355339" width="2" height="14" rx="1"/>
                                                            <path d="M8.1109127,8.90380592 C7.55862795,8.90380592 7.1109127,8.45609067 7.1109127,7.90380592 C7.1109127,7.35152117 7.55862795,6.90380592 8.1109127,6.90380592 L16.5961941,6.90380592 C17.1315855,6.90380592 17.5719943,7.32548256 17.5952502,7.8603687 L17.9488036,15.9920967 C17.9727933,16.5438602 17.5449482,17.0106003 16.9931847,17.0345901 C16.4414212,17.0585798 15.974681,16.6307346 15.9506913,16.0789711 L15.6387276,8.90380592 L8.1109127,8.90380592 Z" fill="#fff" fill-rule="nonzero"/>
                                                        </g>
                                                    </svg>
                                                </td>
                                                <td>{{inv.withrawal_add}}</td>
                                                {% comment %} <td>{{inv.transactionId.hashtrxn}}</td> {% endcomment %}
                                                <td>{{inv.requested_amount}}</td>
                                                <td class="text-danger font-w600">-{{inv.admin_charge}}</td>
                                                <td class="text-success font-w600">+{{inv.total_value}}</td>
                                                {% comment %} <td>{{inv.admin_charge}}</td> {% endcomment %}
                                                {% comment %} <td>{{inv.total_value}}</td> {% endcomment %}
                                                {% comment %} <td class="text-danger font-w600">-{{inv.transactionId.amivolume}}</td> {% endcomment %}
                                             
                                                {% comment %} <td>{{inv.withrawal_add}}</td> {% endcomment %}
                                                
                                                {% comment %} <td><div class="d-flex align-items-center"><img src="images/avatar/1.jpg" class=" me-2" width="30" alt=""> <span class="w-space-no">{{inv.cointype}}</span></div></td> {% endcomment %}
                                                <td> {{inv.transactionId.cointype}}</td>
                                                <td><div class="d-flex align-items-center"><img src="images/svg/btc.svg" alt="" class="me-2 img-btc">{{inv.transactionId.coinvalue}}</div></td>
                                                <td class="text-success font-w600">{{inv.transactionId.amivolume}}</td>
                                                
                                                <td>{{inv.transactionId.hashtrxn}}</td>
                                                <td class="font-w600">{{inv.transactionId.trxndate}}</td>
                                                {% comment %} <td></td> {% endcomment %}
                                                {% comment %} <td class="text-success font-w600">{{inv.amivolume}}</td> {% endcomment %}
                                                <td  class="text-end"><div class="badge badge-sm badge-success">SUCCESS</div></td>
                                            </tr>
        
                                            {% endfor %}
                                            {% endif %}
        
                                            {% comment %} <tr>
                                                <td>
                                                    <svg class="arrow style-1 svg-main-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                            <polygon points="0 0 24 0 24 24 0 24"/>
                                                            <rect fill="#fff" opacity="0.3" transform="translate(11.646447, 12.853553) rotate(-315.000000) translate(-11.646447, -12.853553) " x="10.6464466" y="5.85355339" width="2" height="14" rx="1"/>
                                                            <path d="M8.1109127,8.90380592 C7.55862795,8.90380592 7.1109127,8.45609067 7.1109127,7.90380592 C7.1109127,7.35152117 7.55862795,6.90380592 8.1109127,6.90380592 L16.5961941,6.90380592 C17.1315855,6.90380592 17.5719943,7.32548256 17.5952502,7.8603687 L17.9488036,15.9920967 C17.9727933,16.5438602 17.5449482,17.0106003 16.9931847,17.0345901 C16.4414212,17.0585798 15.974681,16.6307346 15.9506913,16.0789711 L15.6387276,8.90380592 L8.1109127,8.90380592 Z" fill="#fff" fill-rule="nonzero"/>
                                                        </g>
                                                    </svg>
                                                </td>
                                                <td>#12415346563475</td>
                                                <td>01 August 2020</td>
                                                <td>Thomas</td>
                                                <td><div class="d-flex align-items-center"><img src="images/avatar/2.jpg" class=" me-2" width="30" alt=""> <span class="w-space-no">Dr. Jackson</span></div></td>
                                                <td><div class="d-flex align-items-center"><img src="images/svg/btc.svg" alt="" class="me-2 img-btc">Bitcoin</div></td>
                                                <td class="text-success font-w600">+$5,553</td>
                                                <td class="text-end"><div class="badge badge-sm badge-warning">PENDING</div></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <svg class="arrow style-2 svg-main-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                            <polygon points="0 0 24 0 24 24 0 24"/>
                                                            <rect fill="#fff" opacity="0.3" transform="translate(11.646447, 12.853553) rotate(-315.000000) translate(-11.646447, -12.853553) " x="10.6464466" y="5.85355339" width="2" height="14" rx="1"/>
                                                            <path d="M8.1109127,8.90380592 C7.55862795,8.90380592 7.1109127,8.45609067 7.1109127,7.90380592 C7.1109127,7.35152117 7.55862795,6.90380592 8.1109127,6.90380592 L16.5961941,6.90380592 C17.1315855,6.90380592 17.5719943,7.32548256 17.5952502,7.8603687 L17.9488036,15.9920967 C17.9727933,16.5438602 17.5449482,17.0106003 16.9931847,17.0345901 C16.4414212,17.0585798 15.974681,16.6307346 15.9506913,16.0789711 L15.6387276,8.90380592 L8.1109127,8.90380592 Z" fill="#fff" fill-rule="nonzero"/>
                                                        </g>
                                                    </svg>
                                                </td>
                                                <td>#12415346563475</td>
                                                <td>01 August 2020</td>
                                                <td>Thomas</td>
                                                <td><div class="d-flex align-items-center"><img src="images/avatar/3.jpg" class="me-2" width="30" alt=""> <span class="w-space-no">Dr. Jackson</span></div></td>
                                                <td><div class="d-flex align-items-center"><img src="images/svg/btc.svg" alt="" class="me-2 img-btc">Bitcoin</div></td>
                                                <td class="text-danger font-w600">+$5,553</td>
                                                <td class="text-end"><div class="badge badge-sm badge-danger">CANCEL</div></td>
                                            </tr>  {% endcomment %}
                                            {% comment %} {% endfor %} {% endcomment %}
        
                                            
        
        
                                        </tbody>
                                    </table>
                                </div>
                    </div>
                </div>
                </div>
            </div>
        </div> 


      </div>
    </div>

    

    {% comment %} ================================ {% endcomment %}
    <div class="tab-content">
      <input type="radio" name="tab-index" id="tab-index2"/>
      <div class="content">
        <div class="container-fluid">

        <div class="col-xl-12 col-lg-12">
            {% if   acConfirmObj.is_kyc_verfied %}
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card p-5 {% if not acConfirmObj.is_kyc_verfied %} card disabled {% endif %}" >
                                 
        
                                 <div class="row">
                                 <div class="col-lg-4"><h3>Withdrawal</h3></div>
                                 <div class="col-lg-4"></div>
                                 <div class="col-lg-4 btn-group"  role="group"  id="cnbtn">
                                        
                                    <button type="button"  class="btn btn-success">
                                    	
                                         {% comment %} Wallet INR Balance  {% mul request.user.totalWithdrawalableBalance USDRate %}  {% endcomment %}
                                    
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="50px" height="25px" viewBox="0 0 24 24" version="1.1" class="svg-main-icon">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="24" height="24"/>
                                            <circle fill="#fff" opacity="0.3" cx="20.5" cy="12.5" r="1.5"/>
                                            <rect fill="#fff" opacity="0.3" transform="translate(12.000000, 6.500000) rotate(-15.000000) translate(-12.000000, -6.500000) " x="3" y="3" width="18" height="7" rx="1"/>
                                            <path d="M22,9.33681558 C21.5453723,9.12084552 21.0367986,9 20.5,9 C18.5670034,9 17,10.5670034 17,12.5 C17,14.4329966 18.5670034,16 20.5,16 C21.0367986,16 21.5453723,15.8791545 22,15.6631844 L22,18 C22,19.1045695 21.1045695,20 20,20 L4,20 C2.8954305,20 2,19.1045695 2,18 L2,6 C2,4.8954305 2.8954305,4 4,4 L20,4 C21.1045695,4 22,4.8954305 22,6 L22,9.33681558 Z" fill="#fff"/>
                                        </g>
                                    </svg>

                                    {% mul request.user.totalWithdrawalableBalance USDRate %} &nbsp;  &#8377;
                                    {% comment %} <div class="ms-3"> {% endcomment %}
                                        {% comment %} {% if request.user.is_authenticated %} {% endcomment %}
                                        {% comment %} <h4 class="text-white mb-0">{{request.user.totalWalletBalance|floatformat:2}}</h4> {% endcomment %}
                                        {% comment %} {% endif %} {% endcomment %}
                                        {% comment %} <small>Wallet INR balance</small> {% endcomment %}
                                    {% comment %} </div> {% endcomment %}

                                </button>  

        
                                </div>
                                        </div>
                                <div class="row ">
                                    <div class="col-md-4 text-center mt-2">
                                        <h6 class="mt-4" style="font-weight: 600;">Choose Bank</h6>
                                     </div>
                                     
                                    <div class="col-md-5">
                                <div class="input-group mt-4">
                                    <div class="input-group-prepend"></div>
                                      <select id="bankSelect"  class="form-control dropdown-icon" {% if not acConfirmObj.is_kyc_verfied %} disabled {% endif %}>
                                            <option value="{{acConfirmObj.id}}" disabled selected>{{acConfirmObj.pob_bankName}}</option>
                                            {% comment %} <option value="bank1">Bank 1</option>
                                            <option value="bank2">Bank 2</option>
                                            <option value="bank3">Bank 3</option> {% endcomment %}
                                            <!-- Add more bank options here -->
                                        </select>
                                    {% comment %} <input placeholder="Paste Your Txn hase code" id="walletAdd" type="text" class="form-control"></div> {% endcomment %}
                                    </div>
                                    
                                    
                                    <div class="col-md-4"></div>
                                    </div>
                                    <div class="row mt-3">
                                       
                                        <div class="col-md-4 text-center mt-2">
                                           <h6 class="mt-4" style="font-weight: 600;"> Amount</h6>
                                        </div>
                                        
                                        <div class="col-md-5">
                                          
                                            <div class="input-group mt-4">
                                                <div class="input-group-prepend"></div>
                                                <input placeholder="Enter amount" id="Wdamount"    type="number" class="form-control" {% if not acConfirmObj.is_kyc_verfied %} readonly {% endif %}></div>
                                        </div>
                                        </div>
                                         {% if  acConfirmObj.is_kyc_verfied %} 
                                         
                                        <button class="mb-2 mt-5 mr-2 btn btn-outline-primary btn-lg btn-block" id="withdrawButtonINR" onclick="withdrawFundINR()" style="font-weight: 600;" >Withdraw</button>
                                        {% else %}
                                        <button class="mb-2 mt-5 mr-2 btn btn-outline-primary btn-lg btn-block" style="font-weight: 600;">Please Add your bank first</button>
                                        {% comment %} <small class="text-center">Please fill the details below</small> {% endcomment %}
                                          {% endif %}
                                </div>
                        </div>
                        
                    </div>

            {% endif %}        
                </div>
            {% comment %} {% if not  acConfirmObj.is_kyc_verfied %} {% endcomment %}
            <div class="row">
            
                <div class="col-xl-12 col-lg-12">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card p-5 text-center">
                              
        
                                 <div class="row">
                                     <div class="col-lg-12 text-center"><h2>STEP 1</h2></div>
                                   <div class="col-lg-12"><h3>Phone Number Authentication</h3></div>
                                 </div>
                                 <div class="row">
                                <div class="col-lg-6 mt-4">
                                        <input placeholder="Enter your Full Name" value="{{acConfirmObj.pob_name}}" id="usrname" type="text" class="form-control">
                                    </div>
                                 {% comment %} <div class="col-lg-4 mt-4"><h3>Phone Number Authentication</h3></div> {% endcomment %}
                                 <div class="col-lg-6 mt-4">
                                        <input placeholder="Enter Phone Number" value="{{acConfirmObj.phone_number}}" id="phNumber" type="number" class="form-control">
                                    </div>
                               
                                {% comment %} <div class="row"> {% endcomment %}
                                 <div class="col-lg-6 mt-4" id="entPhoneOTPDiv" style="display:none">
                                        <input placeholder="Enter otp" id="phoneOTP" type="number" class="form-control">
                                        <small class="text-success" id="entOTPMsgs"></small>
                                    </div>

                                </div>

                                {% comment %} </div> {% endcomment %}

                                <div class="row">
                                    <div class="col-lg-12 mt-4 text-center">
                                    {% if acConfirmObj.is_phone_verified %}

                                        <button type="button" class="btn btn-success"><i class="fa fa-check" aria-hidden="true"></i>&nbsp;verified
                                        </button>


                                        {% else %}
                                        <button type="button" id="sendOTP" onclick="sendOTPPhone()"  class="btn btn-primary">&nbsp;Send OTP
                                        </button> 

                                        <button type="button" id="verifyPhone"  onclick="verifyOTPPhone()"  class="btn btn-primary" style="display:none;">&nbsp;verify
                                        </button> 

                                        <small class="text-danger text-center" id="phMsg" ></small>
                                    {% endif %}


                                    </div>
                                </div>
                                        </div>
                               
                                    
                                </div>
                        </div>
                        
                    </div>
                </div>
                
            </div>

            {% comment %} {% endif %} {% endcomment %}

        </div>
        {% comment %} <div class="container-fluid"> {% endcomment %}
            {% if  not  acConfirmObj.is_kyc_verfied %}
           <div class="container-fluid">
                <div class="col-xl-12 col-lg-12">
                    
                        <div class="col-xl-12">
                            <div class="card p-5 " id="main">

                                <div class="row">
                                    <div class="col-lg-12 text-center"><h2>STEP 2</h2></div>
                                    <div class="col-lg-12"><h3>Bank  Account Verification</h3></div>
                                </div>
                            <div class="row">
                              <div class="col-lg-6 mt-4">
                                <label >Ac holder Name</label><br>
                                <input placeholder="Enter Name" id="acHolderName" value="{% if  acConfirmObj.is_kyc_verfied %} {{acConfirmObj.pob_name}} {% endif %}" type="text" class="form-control" {% if  acConfirmObj.is_kyc_verfied %} readonly {% endif %}>
                              </div>
                              <div class="col-lg-6 ">
                              </div>

                            </div>

                            <div class="row">
                              <div class="col-lg-6 mt-3">
                                <select name="bank" class="form-control" id="bankName">
                                    <option value="">Select Bank</option>
                                    {% for bank in allBanks %}
                                    
                                    <option value="{{bank.id}}">{{bank.bank_name}}</option>
                                    {% endfor %}
                                    {% comment %} <option value="mercedes">Mercedes</option> {% endcomment %}
                                    {% comment %} <option value="audi">Audi</option> {% endcomment %}
                                  </select>
                               </div>
                               <div class="col-lg-6 mt-4"> 
                                <label > IFSC Code</label><br>
                                <input placeholder="Enter IFSC" id="ifscCode" value="{% if  acConfirmObj.is_kyc_verfied %} {{acConfirmObj.pob_ifsc}} {% endif %}" type="text" class="form-control" {% if  acConfirmObj.is_kyc_verfied %} readonly {% endif %}>

                               </div>

                            </div>
                            <div class="row">

                               <div class="col-lg-6"> 
                                <label > Account Number</label><br>
                                <input placeholder="" id="acNumber" value="{% if  acConfirmObj.is_kyc_verfied %} {{acConfirmObj.pob_number}} {% endif %}" type="text" class="form-control" {% if  acConfirmObj.is_kyc_verfied %} readonly {% endif %}>
                               </div>
                               <div class="col-lg-6 mt-4"> 
                                <label > Confirm Account Number</label><br>
                                <input placeholder="" id="confAcNumber" value="{% if  acConfirmObj.is_kyc_verfied %} {{acConfirmObj.pob_number}} {% endif %}" type="text" class="form-control" {% if  acConfirmObj.is_kyc_verfied %} readonly {% endif %}>

                               </div>


                               
                            </div>

                                <div class="row mt-3 text-center">
                                    <div class="col-lg-3"></div>
                                    <div class="col-lg-6 mt-4">
                                    {% if  acConfirmObj.is_kyc_verfied %} 
                                    <button type="button"  class="btn btn-success" >
                                        <i class="fa fa-check " aria-hidden="true"></i>&nbsp;verified
                                        </button> 

                                     {% else %}
                                        <button type="button"id="addBankDetails"  onclick="addBank()"  class="btn btn-primary" {% if not acConfirmObj.is_phone_verified %} disabled {% endif %}> {% if not acConfirmObj.is_phone_verified %} Add Phone number first{% else %}&nbsp;Add Bank  {% endif %}
                                        </button> 
                                    {% endif %}
                                    </div>
                                    <div class="col-lg-3"></div>
                                </div>
                                        {% comment %} </div> {% endcomment %}
                                
                                   
                                </div>
                        </div>
                        
                   
                </div>
            </div>

            {% endif %}
            
          
        {% comment %} </div> {% endcomment %}
           
        </div> 
      </div>
    </div>
   
    {% comment %} ================================ {% endcomment %}




  </div>
</div>


{% endblock  %}



{% block 'addFooterScripts' %}
{% comment %} <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> {% endcomment %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.6.1-rc.0/web3.min.js"></script>
{% comment %} <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  {% endcomment %}

{% comment %} <script>
    let account;
    let web3;

    async function connectMetaMask() {
        if (typeof window.ethereum !== 'undefined') {
            try {
                const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
                account = accounts[0];
                document.getElementById('account').innerText = 'Connected Account: ' + account;

                web3 = new Web3(window.ethereum);
                const chainId = await web3.eth.getChainId();
                let networkName;
                let nativeCurrency;

                switch (chainId) {
                    case 1:
                        networkName = 'Ethereum Mainnet';
                        nativeCurrency = 'ETH';
                        break;
                    case 3:
                        networkName = 'Ropsten Testnet';
                        nativeCurrency = 'ETH';
                        break;
                    case 4:
                        networkName = 'Rinkeby Testnet';
                        nativeCurrency = 'ETH';
                        break;
                    case 5:
                        networkName = 'Goerli Testnet';
                        nativeCurrency = 'ETH';
                        break;
                    case 42:
                        networkName = 'Kovan Testnet';
                        nativeCurrency = 'ETH';
                        break;
                    case 56:
                        networkName = 'Binance Smart Chain Mainnet';
                        nativeCurrency = 'BNB';
                        break;
                    case 97:
                        networkName = 'Binance Smart Chain Testnet';
                        nativeCurrency = 'tBNB';
                        break;
                    // Add other networks here as needed
                    default:
                        networkName = 'Unknown Network';
                        nativeCurrency = 'Unknown';
                }

                document.getElementById('network').innerText = 'Connected Network: ' + networkName;

                const balance = await web3.eth.getBalance(account);
                const balanceInNativeCurrency = web3.utils.fromWei(balance, 'ether');
                document.getElementById('balance').innerText = 'Balance: ' + balanceInNativeCurrency + ' ' + nativeCurrency;

            } catch (error) {
                console.error('User denied account access or error occurred', error);
            }
        } else {
            alert('MetaMask is not installed. Please install it to use this feature.');
        }
    }

    async function sendTransaction() {
        if (typeof window.ethereum !== 'undefined' && account) {
            try {
                const recipient = '0xRecipientAddressHere';  // Replace with the recipient's address
                const amount = web3.utils.toWei('0.1', 'ether');  // Replace with the amount to send

                await web3.eth.sendTransaction({
                    from: account,
                    to: recipient,
                    value: amount
                })
                .on('transactionHash', (hash) => {
                    console.log('Transaction Hash:', hash);
                })
                .on('receipt', (receipt) => {
                    console.log('Receipt:', receipt);
                })
                .on('error', (error) => {
                    console.error('Transaction failed:', error);
                });

            } catch (error) {
                console.error('Error sending transaction:', error);
            }
        } else {
            alert('MetaMask is not connected. Please connect it first.');
        }
    }

    document.getElementById('connectButton').onclick = connectMetaMask;
    document.getElementById('sendButton').onclick = sendTransaction;
</script> {% endcomment %}



<script type="text/javascript">


  
	


    let web3;
    let account;


    async function connectMetaMask() {
        if (typeof window.ethereum !== 'undefined') {
            web3 = new Web3(window.ethereum);
            await window.ethereum.request({ method: 'eth_requestAccounts' });
            const accounts = await web3.eth.getAccounts();
            account = accounts[0];
        
           // console.log(accounts);
            //document.getElementById('account').innerText = 'Connected Account: ' + account;
            //document.getElementById('connect-button').innerText = 'Connected';
            
            //document.getElementById('cnbtn').innerHTML = `<button type="button" id="connect-button" class="btn btn-success">Connected</button>`;
           
           // $('#walletAdd').val(account);
			$('#walletAdd').val(account).prop('readonly', true);
           // $('#walletAdd').setattr(account);
            //$('#metaAdd').val(account);
           // const chainId = await web3.eth.getChainId();
            //web3 = new Web3(window.ethereum);

            const chainId = await web3.eth.getChainId();
            let networkName;
            let nativeCurrency;

            switch (chainId) {
                case 1:
                    networkName = 'Ethereum Mainnet';
                    nativeCurrency = 'ETH';
                    break;
                case 56:
                    networkName = 'Binance Smart Chain Mainnet';
                    nativeCurrency = 'BNB';
                    break;
                case 97:
                    networkName = 'Binance Smart Chain Testnet';
                    nativeCurrency = 'tBNB';
                    break;
                default:
                    networkName = 'Unknown Network';
                    nativeCurrency = 'Unknown';
            }

            //document.getElementById('network').innerText = 'Connected Network: ' + networkName;

            if (chainId == 97) { // Check if the connected network is BSC Testnet

                var totalBal=await getBalance(account);
                if(totalBal){

                    document.getElementById('cnbtn').innerHTML = `
            <button type="button" class="btn btn-success"><i class="fas fa-wallet"></i>     ${totalBal}tBNB</button> `;
                }


            } 
            if (chainId !== 97) {
                try {
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x61' }], // Chain ID 97 in hexadecimal (0x61)
                    });
                } catch (switchError) {
                    if (switchError.code === 4902) {
                        try {
                            await window.ethereum.request({
                                method: 'wallet_addEthereumChain',
                                params: [
                                    {
                                        chainId: '0x61',
                                        chainName: 'BSC Testnet',
                                        rpcUrls: ['https://data-seed-prebsc-1-s1.binance.org:8545/'],
                                        nativeCurrency: {
                                            name: 'tBNB',
                                            symbol: 'tBNB',
                                            decimals: 18,
                                        },
                                        blockExplorerUrls: ['https://testnet.bscscan.com'],
                                    },
                                ],
                            });
                        } catch (addError) {
                            console.error(addError);
                        }
                    }
                }
            }

        } else {
            alert('MetaMask is not installed. Please install MetaMask to proceed.');
        }
    }
    async function getBalance(account) {
        try {
            const balance = await web3.eth.getBalance(account);
            const balanceInBNB = web3.utils.fromWei(balance, 'ether');

            return balanceInBNB
           // document.getElementById('balance').innerText = 'Balance: ' + balanceInBNB + ' tBNB';
        } catch (error) {
            console.error('Error getting balance:', error);
            return false
        }
    }
    async function payWithMetaMask() {

        var amnt=document.getElementById('amount').value

        const response = await fetch(`/member/get-busd-price/`);
        const data = await response.json();
        const priceInUsd = data.price;
        console.log(priceInUsd);
        const cryptoAmount = (amnt / priceInUsd).toFixed(18); // Calculate crypto amount for $55

        console.log(cryptoAmount);
        if (!account) {
            alert('Please connect to MetaMask first.');
            return;
        }

        web3.eth.sendTransaction({
            from: account,
            to: '0xe749438B8CEBC367869ADAAf7D1B108d3c77A856', // Replace with your testnet receiving address
            //value: web3.utils.toWei('1', 'ether') // Amount in tBNB
            

            value: web3.utils.toWei(cryptoAmount, 'ether') // Amount in tBNB
        })
        .on('transactionHash', function(hash) {
            console.log('Transaction Hash:', hash);
            sendTransactionHashToDjango(hash);
        }).on('error', console.error);
        /*.on('confirmation', function(hash,confirmationNumber, receipt) {
            console.log(hash);
            console.log('Confirmation Number:', confirmationNumber);
            console.log('Receipt:', receipt);
        })*/
        
    }

    function sendTransactionHashToDjango(transactionHash) {
        fetch('/member/verify-transaction/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCookie('csrftoken')
            },
            body: JSON.stringify({ transactionHash: transactionHash })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Transaction verified and funds added to your wallet.');
                location.reload(); // Reload the page
            } else {
                alert('Transaction verification failed.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

	 function sendOTPPhone() {



        
		const phone_num = document.getElementById('phNumber').value;
		const usrname = document.getElementById('usrname').value;
		//const totalBal=`{{request.user.totalWalletBalance}}`;
		//console.log(amount);
		if (!phone_num) {
			alert('Please enter a  valid phone number.');
			return;
		}
        const phoneRegex = /^\d{10}$/;
    
        if (!phoneRegex.test(phone_num)) {
            alert('Please enter a valid phone number.');
            return;
        }
	

        if(phone_num){

        bt = $(`#sendOTP`);
        bt.attr("disabled", "").html("<i class='fa fa-spin fa-spinner'></i>&nbsp;&nbsp;Please wait...");
        $('#phNumber').prop('readonly', true);
        $('#usrname').prop('readonly', true);
		fetch('/member/withdraw/', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
				'X-CSRFToken': getCookie('csrftoken')
			},
			body: JSON.stringify({ phone_number: phone_num, type: 'INR',full_name:usrname,what_for:'sendOTP' })
		})
		.then(response => response.json())
		.then(data => {
			if (data.status) {

                if (data.status && data.msg =='Already Registered' ){
                    alert("Phone number verified successfully");

				    location.reload();
                    return
                }

                $(`#entOTPMsgs`).html('enter otp sent to your phone number');
                $('#entPhoneOTPDiv').css('display', 'block');

                $('#sendOTP').css('display', 'none');
                $('#verifyPhone').css('display', 'block');
                //$('#ActivateId').css('display', 'block');
				//alert( data.msg);
			} else {
				alert(data.msg);

				location.reload();
			}
		})
		.catch(error => {
			console.error('Error:', error);
		});

     }


	}
	 function verifyOTPPhone() {



        
		const phone_num = document.getElementById('phNumber').value;
		const usrname = document.getElementById('usrname').value;
        const OTP = document.getElementById('phoneOTP').value;

		//const totalBal=`{{request.user.totalWalletBalance}}`;
		//console.log(amount);
		if (!phone_num) {
			alert('Please enter a  valid phone number.');
			return;
		}
		if (!OTP) {
			alert('Please enter a  valid OTP.');
			return;
		}


        const phoneRegex = /^\d{10}$/;
    
        if (!phoneRegex.test(phone_num)) {
            alert('Please enter a valid phone number.');
            return;
        }
	

        if(phone_num && OTP ){

        bt = $(`#verifyPhone`);
        bt.attr("disabled", "").html("<i class='fa fa-spin fa-spinner'></i>&nbsp;&nbsp;Please wait...");
        $('#phNumber').prop('readonly', true);
        $('#usrname').prop('readonly', true);
        $('#phoneOTP').prop('readonly', true);
		fetch('/member/withdraw/', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
				'X-CSRFToken': getCookie('csrftoken')
			},
			body: JSON.stringify({ phone_number: phone_num, type: 'INR',full_name:usrname,'entOTP':OTP,what_for:'otpVerify' })
		})
		.then(response => response.json())
		.then(data => {
			if (data.status) {
                alert("OTP verified successfully");
                location.reload();
                //$('#ActivateId').css('display', 'block');
				//alert( data.msg);
			} else {
				alert(data.msg);

				location.reload();
			}
		})
		.catch(error => {
			console.error('Error:', error);
		});

     }


	}

    function addBank() {



        
		const acHolderName = document.getElementById('acHolderName').value;
		const bankName = document.getElementById('bankName').value;
        const ifscCode = document.getElementById('ifscCode').value;
        const acNumber = document.getElementById('acNumber').value;
        const confAcNumber = document.getElementById('confAcNumber').value;

		//const totalBal=`{{request.user.totalWalletBalance}}`;
		//console.log(amount);
		if (!acHolderName) {
			alert('Please enter account holder name.');
			return;
		}
		if (!bankName) {
			alert('Please enter Bank Name.');
			return;
		}
		if (!ifscCode) {
			alert('Please enter IFSC code.');
			return;
		}
		if (!acNumber) {
			alert('Please enter valid account number.');
			return;
		}
		if (!confAcNumber) {
			alert('Please enter valid confirm account number.');
			return;
		}

        if(acNumber.trim()!==confAcNumber.trim()){
            alert('Account number and confirm account number should be same.');
            return;

        }


      
	

        if (acHolderName && bankName && ifscCode && acNumber && confAcNumber){

            bt = $(`#addBankDetails`);
            bt.attr("disabled", "").html("<i class='fa fa-spin fa-spinner'></i>&nbsp;&nbsp;Please wait...");
            $('#acHolderName').prop('readonly', true);
            $('#bankName').prop('readonly', true);
            $('#ifscCode').prop('readonly', true);
            $('#acNumber').prop('readonly', true);
            $('#confAcNumber').prop('readonly', true);

            fetch('/member/withdraw/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify({ accountHolder: acHolderName, type: 'INR',BankName:bankName,IFSC:ifscCode,accountNumber:acNumber,confirmAccountNumber:confAcNumber,what_for:'addBankDetails' })
            })
            .then(response => response.json())
            .then(data => {

               console.log(data);
                if (data.status) {
                    
                    alert("Bank registred successfully");
                    location.reload();
                    //$('#ActivateId').css('display', 'block');
                    //alert( data.msg);
                } else {
                    alert(data.msg);

                    location.reload();
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });

        }


	}
    function withdrawFundINR() {


        console.log("came here");

		const wdAMNT = document.getElementById('Wdamount').value;
		const bankSelected = document.getElementById('bankSelect').value;
         
        const avilableBalanceToWithdraw=`{{request.user.totalWithdrawalableBalance}}`;
        console.log(wdAMNT);
        console.log(bankSelected);
        console.log(avilableBalanceToWithdraw);
        
		//const totalBal=`{{request.user.totalWalletBalance}}`;
		//console.log(amount);
		if (!wdAMNT) {
			alert('Please enter amount.');
			return;
		}
		if (parseFloat(wdAMNT)<=0 ) {
			alert('Please enter correct amount');
			return;
		}

       if (parseFloat(wdAMNT)>parseFloat(avilableBalanceToWithdraw)){

        alert("You have Insufficient balance in your account to process this withdrawal");
        location.reload();
        return
       }



        if (parseFloat(wdAMNT)<=parseFloat(avilableBalanceToWithdraw)){

            bt = $(`#withdrawButtonINR`);
            bt.attr("disabled", "").html("<i class='fa fa-spin fa-spinner'></i>&nbsp;&nbsp;Please wait...");
           // $('#bankName').prop('readonly', true);
           $('#Wdamount').prop('readonly', true);
           $('#bankSelected').prop('disbaled', true);
           // $('#acNumber').prop('readonly', true);
           // $('#confAcNumber').prop('readonly', true);

            fetch('/member/withdraw/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify({ withdrawAmount: parseFloat(wdAMNT),selectedBank:bankSelected ,type: 'INR',what_for:'withdrawFund' })
            })
            .then(response => response.json())
            .then(data => {

              
                if (data.status) {
                    
                    alert(data.msg);
                    location.reload();
                   
                } else {
                    alert(data.msg);

                    location.reload();
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });

        }


	}
	
	


	async function withdraw() {
		const amount = document.getElementById('amount').value;
		const totalBal=`{{request.user.totalWalletBalance}}`;
		//console.log(amount);
		if (!account) {
			alert('Please connect to MetaMask first.');
			return;
		}
		if (!amount) {
			alert('Please enter an amount.');
			return;
		}


		if (amount && parseFloat(amount)>parseFloat(totalBal)) {
			alert('Insufficient wallet balance');
			return;
		}

		if (amount && parseFloat(amount)<10) {
			alert('Minimun withdrawal amount is $10');
			return;
		}



		fetch('/member/withdraw/', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
				'X-CSRFToken': getCookie('csrftoken')
			},
			body: JSON.stringify({ account: account, amount: amount })
		})
		.then(response => response.json())
		.then(data => {
			if (data.success) {
				location.reload();
				alert('Withdrawal successful! Transaction Hash: ' + data.transactionHash);
			} else {
				location.reload();
				alert('Withdrawal failed: ' + data.error);
			}
		})
		.catch(error => {
			console.error('Error:', error);
		});
	}






	//document.getElementById('connectButton').onclick = connectMetaMask;
	document.getElementById('withdrawButton').onclick = withdraw;
	document.getElementById('verifyPhone').onclick = verifyPhoneNumber;
	document.getElementById('sendOTP').onclick = sendOTPPhone; 
	 document.getElementById('addBankDetails').onclick = addBank; 


    document.getElementById('connect-button').addEventListener('click', connectMetaMask);
    document.getElementById('pay-button').addEventListener('click', payWithMetaMask);
    {% comment %} document.getElementById('verifyPhone').addEventListener('click', verifyPhoneNumber); {% endcomment %}
    {% comment %} document.getElementById('sendOTP').addEventListener('click', sendOTPPhone); {% endcomment %}
</script>


{% endblock %}
